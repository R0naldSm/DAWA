<table class="table table-hover border shadow p-3 mb-5 bg-body-tertiary w-100" style="min-width: 1100px;">
  <thead>
    <tr class="text-center">
      <th scope="col">#</th>
      <th scope="col">Proveedor</th>
      <th scope="col">Fecha del pedido</th>
      <th scope="col">Fecha estima de entrega</th>
      <th scope="col">Estado</th>
      <th scope="col">Total</th>
      <th scope="col">Acciones</th>
    </tr>
    
  </thead>

  <tbody>
    @for (pedido of pedidos(); track pedido.id_pedido) {
      <tr>
        <td scope="row">{{pedido.id_pedido}}</td>
        <td>{{pedido.nombre_proveedor}}</td>
        <td>{{pedido.fecha_creacion_pedido}}</td>
        <td>{{pedido.fecha_estimada_entrega}}</td>
        <td>{{pedido.estado}}</td>
        <td>$ {{pedido.total}}</td>
        <td class="d-flex gap-2">
          <button class="btn btn-success">Enviar pedido</button>
          <button class="btn btn-outline-primary" 
                  data-bs-toggle="modal"
                  data-bs-target="#staticBackdrop"
                  (click)="seleccionarPedido(pedido)">Ver información</button>
          <button class="btn text-danger">Cancelar</button>
        </td>
      </tr>
    }
  </tbody>
</table>

<!--Modal-->
<div class="modal fade" id="staticBackdrop" data-bs-backdrop="static" data-bs-keyboard="false" tabindex="-1" aria-labelledby="staticBackdropLabel" aria-hidden="true">
  <div class="modal-dialog modal-lg">
    <div class="modal-content">
      <!--cabezera-->
      <div class="d-flex px-3 pt-3">
        <h2 class="modal-title fs-5 fw-bold" id="staticBackdropLabel">{{infoProveedor?.nombreEmpresa}}</h2>
        <button class="ms-auto btn btn-primary">Editar</button>
      </div>
      <p class="ps-3 fs-6">RUC: {{infoProveedor?.ruc}}</p>
      <!--cuerpo (informacion del proveedor)-->
      <span class="ps-3 fs-6 fw-bold">Datos del proveedor</span>
      <hr class="mx-3 mt-0">
      <div class="ps-3">
        <p><span class="fw-semibold">Persona de contacto:</span> {{infoProveedor?.personaContacto}}</p>
        <p><span class="fw-semibold">Teléfono:</span> {{infoProveedor?.telefono}}</p>
        <p><span class="fw-semibold">correo electrónico:</span> {{infoProveedor?.correo}}</p>
      </div>

      <!--cuerpo (informacion de pedido)-->
      <span class="ps-3 fs-6 fw-bold">Detalles del pedido</span>
      <hr class="mx-3 mt-0">
      <div class="ps-3">
        <p><span class="fw-semibold">ID del pedido:</span> {{pedidoSeleccionado?.id_pedido}}</p>
        <p><span class="fw-semibold">Fecha de pedido:</span> {{pedidoSeleccionado?.fecha_creacion_pedido}}</p>
        <p><span class="fw-semibold">Fecha estimada de entrega:</span> {{pedidoSeleccionado?.fecha_estimada_entrega}}</p>
      </div>

      <!--cuerpo (productos del pedido)-->
      <span class="ps-3 fs-6 fw-bold">Productos del pedido</span>

      
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Cerrar</button>
      </div>
    </div>
  </div>
</div>